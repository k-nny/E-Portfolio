<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Mes loisirs – Kenny DODEY</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/loisir.css">
    <link rel="stylesheet" href="css/footer.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
    <div class="e-portfolio">
        <h1>E-Portfolio Kenny DODEY</h1>
    </div>

    <div class="lien">
        <a href="index.html">Qui suis-je ?</a>
        <a href="contact.html">Contactez-moi !</a>
        <a href="pdf/CV_DODEY_Kenny.pdf" target="_blank">Télécharger mon CV</a>
    </div>
</header>

<section class="subheader">
    <div class="lien">
        <a href="formation.html">Ma formation</a>

        <div class="dropdown">
            <a href="#" class="dropdown-link">
                Mes actions professionnelles
                <i data-lucide="chevron-down"></i>
            </a>
            <div class="dropdown-content">
                <a href="experience_pro.html">Mes expériences professionnelles</a>
                <a href="stages.html">Mes stages professionnelles</a>
            </div>
        </div>

        <a href="#">Mes compétences</a>
        <a href="#">Mes atouts</a>
        <a href="loisir.html" class="active">Mes loisirs</a>
    </div>
</section>

<!-- ================= CONTENU ================= -->
<h2>Mes loisirs</h2>

<section class="loisir-container" id="carousel">
    <button class="carousel-arrow prev" id="prev">&#10094;</button>
    <button class="carousel-arrow next" id="next">&#10095;</button>
</section>

<!-- ================= FOOTER ================= -->
<footer>
    <div class="lien-footer">
        <a href="index.html">Qui suis-je ?</a>
        <a href="contact.html">Contactez-moi !</a>
        <a href="pdf/CV_DODEY_Kenny.pdf" target="_blank">Télécharger mon CV</a>
    </div>
</footer>

<!-- ICONS -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- ================= JS ================= -->
<script>
lucide.createIcons();

/* ===== DONNÉES LOISIRS ===== */
const loisirs = [
    {
        slug: "sport",
        titre: "Sports",
        image: "images/cso.JPG",
        texte: "Je suis passionné de sport : BMX, badminton, équitation et disciplines variées pratiquées depuis l’enfance."
    },
    {
        slug: "jeux-video",
        titre: "Jeux vidéo",
        image: "images/setup.jpg",
        texte: "Passionné par les jeux vidéo de stratégie, aventure et coopération, mêlant réflexion et esprit d’équipe."
    }
];

/* ===== CARROUSEL ===== */
const carousel = document.getElementById("carousel");
let slides = [];
let current = 0;
const intervalTime = 5000;

/* Création des slides */
function createSlides() {
    loisirs.forEach(loisir => {
        const slide = document.createElement("div");
        slide.className = "loisir-slide";

        slide.innerHTML = `
            <div class="loisir-bg" style="background-image:url('${loisir.image}')"></div>
            <div class="loisir-overlay">
                <h3>${loisir.titre}</h3>
                <p>${loisir.texte}</p>
            </div>
        `;

        carousel.appendChild(slide);
        slides.push(slide);
    });
}

/* Afficher une slide */
function showSlide(index) {
    slides.forEach(slide => slide.classList.remove("active"));
    slides[index].classList.add("active");
    current = index;
}

/* Récupération paramètre URL */
function getInitialSlideIndex() {
    const params = new URLSearchParams(window.location.search);
    const loisirParam = params.get("loisir");

    if (!loisirParam) return 0;

    const index = loisirs.findIndex(l => l.slug === loisirParam);
    return index !== -1 ? index : 0;
}

/* Boutons */
document.getElementById("next").addEventListener("click", () => {
    showSlide((current + 1) % slides.length);
});

document.getElementById("prev").addEventListener("click", () => {
    showSlide((current - 1 + slides.length) % slides.length);
});

/* Auto-slide */
setInterval(() => {
    showSlide((current + 1) % slides.length);
}, intervalTime);

/* Init */
createSlides();
showSlide(getInitialSlideIndex());
</script>

</body>
</html>
