<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Contact</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="css/contact.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
</head>

<header>
    <div class="e-portfolio">
        <h1>E-Portfolio Kenny DODEY</h1>
    </div>
    <div class="lien">
        <a href="index.html">Qui suis-je ?</a>
        <a href="contact.html">Contactez-moi !</a>
        <a href="pdf/CV_DODEY_Kenny.pdf" target="_blank">Télécharger mon CV</a>
    </div>
</header>

<section class="subheader">
    <div class="lien">
        <a href="formation.html">Ma formation</a>

        <div class="dropdown">
            <a href="#" class="dropdown-link">
                Mes actions professionnelles
                <i data-lucide="chevron-down"></i>
            </a>
            <div class="dropdown-content">
                <a href="experience.html">Mes expériences professionnelles</a>
                <a href="stage.html">Mes stages professionnelles</a>
                <a href="#">Mes situations d'apprentissage et d'évaluation</a>
            </div>
        </div>

        <a href="#">Mes compétences</a>
        <a href="#">Mes atouts</a>
        <a href="loisir.html">Mes loisirs</a>
    </div>
</section>

<body>


    <div class="contact-container">
        <h2>Contactez-moi</h2>

        <p id="form-success" class="success" style="display:none;">
            Votre message a bien été envoyé ✅
        </p>

        <p id="form-error" class="error" style="display:none;">
            Une erreur est survenue. Veuillez réessayer.
        </p>

        <form id="contact-form">
            <input type="text" name="name" placeholder="Votre nom" required>
            <input type="email" name="email" placeholder="Votre email" required>
            <textarea name="message" placeholder="Votre message" required></textarea>
            <button type="submit">Envoyer</button>
        </form>
    </div>

    <footer>
        <div class="lien">
            <a href="index.html">Qui suis-je ?</a>
            <a href="contact.html">Contactez-moi !</a>
            <a href="pdf/CV_DODEY_Kenny.pdf" target="_blank">Télécharger mon CV</a>
        </div>
    </footer>

    <!-- ICONS -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        lucide.createIcons();

        /* ================= FORMULAIRE ================= */
        const form = document.getElementById("contact-form");
        const successMsg = document.getElementById("form-success");
        const errorMsg = document.getElementById("form-error");

        /* ⚠️ Remplace par TON URL Formspree */
        const FORM_ENDPOINT = "https://formspree.io/f/mnjjjpbz";

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            successMsg.style.display = "none";
            errorMsg.style.display = "none";

            const formData = new FormData(form);

            try {
                const response = await fetch(FORM_ENDPOINT, {
                    method: "POST",
                    body: formData,
                    headers: {
                        "Accept": "application/json"
                    }
                });

                if (response.ok) {
                    successMsg.style.display = "block";
                    form.reset();
                } else {
                    errorMsg.style.display = "block";
                }
            } catch (error) {
                errorMsg.style.display = "block";
            }
        });
    </script>

</body>

</html>